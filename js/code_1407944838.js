 
/*
  Updated: 2014-08-13 11:47:25.300166
  Readable Source in //Ceres/training/webmaps/Bsouthga_mugroup/webdev_repo/stateOfRetirement/js/
  bsouthga(at)urban(dot)org
*/

var t={};var u={};var rObj={};var topObj={};var coverObj={};var stateL={};var height=350,width=445;var animation_interval=1000;var scale=.8;var hidden_box=function(d){return{"class":d=="N"?" missing_box_rect":" normal_box_rect"};};function raphaelMap(container){var R=Raphael(container,width,height-70),attr={"stroke":"#fff","stroke-opacity":"1","stroke-linejoin":"round","stroke-miterlimit":"4","stroke-width":"0.75","stroke-dasharray":"none"},mask={fill:"none","stroke-opacity":"0","stroke":"#000","stroke-width":"2"},cover={fill:"#FFFFFF",opacity:"0"},line={stroke:"#CCCCCC"},textFont={"font-family":'"helvetica","arial","tahoma","verdana","sans-serif"',"font-size":"12.5"};for(n in currData){var tPos=$.inArray(currData[n],jsonPerm.catLabels);rObj[n]=R.path(usMap[n]).attr(attr).attr({fill:jsonPerm.boxColors[tPos]}).scale(scale,scale,0,0);}for(n in currData){var tPos=$.inArray(currData[n],jsonPerm.catLabels);stateL[n]=R.text(Math.round(mapLabels[n][0])+7,Math.round(mapLabels[n][1])-4,n).attr(textFont).attr({fill:jsonPerm.boxText.color[tPos]}).scale(scale,scale,0,0);coverObj[n]=R.path(usMap[n]).attr(attr).attr(cover).scale(scale,scale,0,0);topObj[n]=R.path(usMap[n]).attr(attr).attr(mask).scale(scale,scale,0,0);}for(l in lines)R.path(lines[l]).attr(line).scale(scale,scale,0,0);}function changeMapColors(){for(n in currData){var tPos=$.inArray(currData[n],jsonPerm.catLabels);rObj[n].animate({fill:jsonPerm.boxColors[tPos]},animation_interval);stateL[n].animate({fill:jsonPerm.boxText.color[tPos]},animation_interval);}}function addcommas(number){var rounded=Math.round(number),n_str=(''+rounded),ln=n_str.length,output='';if(n_str.indexOf("e")!=-1)return ''+number;for(i=1;i<=ln;i++)output=(i%3==0&&i!=ln?",":"")+n_str.charAt(ln-i)+output;;return output;}