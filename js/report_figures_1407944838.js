 
/*
  Updated: 2014-08-13 11:47:21.320126
  Readable Source in //Ceres/training/webmaps/Bsouthga_mugroup/webdev_repo/stateOfRetirement/js/
  bsouthga(at)urban(dot)org
*/

$(function(){Highcharts.setOptions({chart:{style:{fontFamily:"helvetica",fontSize:"14px"}}});results_plot({div_id:"fig_1_plot",title_text:"<b>Figure 1:</b> Illustrative Lifetime Pension Benefits and Employee Plan Contributions <br/>for State and Local Government Employees",y_title:'Constant 2014 Dollars',series_array:[{data:gen_series(yos.slice(0,31),fig_1.exp_val.slice(0,31)),name:"Expected lifetime pension benefits",color:"#A02022"},{data:gen_series(yos.slice(0,31),fig_1.contrb_val.slice(0,31)),name:'Value of employee contributions',color:"#6699CC"}],min:0,legend:true});results_plot({div_id:"fig_2_plot",title_text:"<b>Figure 2.</b> Lifetime Pension Benefits Net of Employee Contributions <br/>for a Plan that Pays Benefits at Age 50 for Those with 25 Years of Service",y_title:'Constant 2014 Dollars',series_array:[{data:gen_series(yos,fig_2.ltb),name:"Benefits net of contributions",color:"#A02022"}],min:undefined});});function results_plot(plot_obj){$('#'+plot_obj.div_id).highcharts({title:{text:plot_obj.title_text,style:{fontSize:12,color:'#000000'}},credits:{enabled:false},legend:{enabled:plot_obj.legend||false,floating:true,layout:"vertical",align:"left",verticalAlign:'top',x:90,y:70},navigation:{buttonOptions:{enabled:false}},xAxis:{title:{text:'Years of Service',style:{color:'#555555'}},lineColor:'#555555',lineWidth:1,tickInterval:5,minorTickLength:0,tickLength:0},yAxis:{title:{text:plot_obj.y_title,style:{color:'#555555'}},lineWidth:1,lineColor:'#555555',min:plot_obj.min,labels:{formatter:function(){return '$'+Math.round(this.value/1000)+'k ';}}},plotOptions:{series:{animation:true,lineWidth:3,marker:{enabled:false}}},tooltip:{hideDelay:200,formatter:function(){return 'Years of service: '+this.x+'<br/>'+this.series.name+': $'+commas(Math.round(this.y));}},series:plot_obj.series_array});};function commas(number){var negative=(number<0);number=Math.abs(number);var rounded=Math.round(number),n_str=(''+rounded),ln=n_str.length,output='';if(n_str.indexOf("e")!=-1)return n_str;for(var i=1;i<=ln;i++)output=(i%3==0&&i!=ln?",":"")+n_str.charAt(ln-i)+output;;return(negative?'-':'')+output;}function gen_series(x,y){var out=[];for(var i=0,l=x.length;i<l;i++)out.push({"x":x[i],"y":y[i]});return out;}var yos=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41];var fig_1={"exp_val":[0,0,0,0,0,6906.50932,9320.838159,12189.0077,15568.68036,19446.13766,23851.79174,28790.74901,34280.64637,40349.54354,47161.26344,54792.47663,63356.24282,72945.73256,83656.41475,95320.19517,107973.2491,121656.8549,136395.7875,152248.4266,169739.1998,189024.5323,210292.1352,234348.1866,261535.0903,291737.9935,325591.774,363515.5676,401767.6326,439936.905,477967.5612,514991.7114,550386.507,587561.7594,626494.5798,667163.3804,709607.309,753938.4914],"contrb_val":[0,2112.905101,4443.501665,7000.714156,9793.739678,12832.05517,16125.42477,19683.90736,23517.86428,27577.10407,31869.66242,36391.47746,41152.66703,46163.76548,51435.74031,56978.75389,62802.05384,68915.14765,75327.80917,81987.3463,88901.04032,96076.36043,103520.9682,111242.7221,119268.1332,127606.3639,136266.8166,145335.5368,154829.7762,164733.7479,175097.8964,185941.5598,196995.7798,208264.6449,219752.3228,231463.0625,243401.1952,255571.1362,267977.3868,280624.5355,293517.2599,306660.3284]};var fig_2={"ltb":[0,-2112.905101,-4443.501665,-7000.714156,-9793.739678,-5925.545851,-6804.586613,-7494.899656,-7949.183922,-8130.966416,-8017.870684,-7600.728444,-6872.020657,-5814.221935,-4274.476871,-2186.277261,554.188978,4030.584911,8328.605572,13332.84887,19072.20879,25580.49451,32874.81932,41005.70449,50471.06659,310352.5403,350967.8928,371779.8811,394795.3225,419168.6822,445530.1762,473979.0733,497635.5061,516138.7718,529795.2783,537688.1623,539469.3907,540380.0258,540300.9096,539135.0448,536874.5965,533595.6641]};